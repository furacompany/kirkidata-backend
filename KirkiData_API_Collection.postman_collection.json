{
	"info": {
		"_postman_id": "kirkidata-api-collection",
		"name": "KirkiData API Collection",
		"description": "Complete API collection for KirkiData Backend - Aychindodata Integration\n\nIncludes:\n- Admin APIs (Aychindodata, Data Plans)\n- User APIs (Purchases, Auth)\n\nEnvironment Variables:\n- baseUrl: http://localhost:5000/api/v1\n- userToken: User access token\n- adminToken: Admin access token",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Admin APIs",
			"item": [
				{
					"name": "Aychindodata",
					"item": [
						{
							"name": "Get User Info & Wallet Balance",
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{adminToken}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{baseUrl}}/aychindodata/user",
									"host": ["{{baseUrl}}"],
									"path": ["aychindodata", "user"]
								},
								"description": "Get Aychindodata account information and wallet balance (Admin only)"
							},
							"response": []
						},
						{
							"name": "Get Networks",
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{adminToken}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{baseUrl}}/aychindodata/networks",
									"host": ["{{baseUrl}}"],
									"path": ["aychindodata", "networks"]
								},
								"description": "Get available networks (MTN, AIRTEL, GLO, 9MOBILE) - Admin only"
							},
							"response": []
						},
						{
							"name": "Health Check",
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{baseUrl}}/aychindodata/health",
									"host": ["{{baseUrl}}"],
									"path": ["aychindodata", "health"]
								},
								"description": "Check Aychindodata service health status"
							},
							"response": []
						}
					]
				},
				{
					"name": "Data Plans",
					"item": [
						{
							"name": "Create Data Plan",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{adminToken}}",
										"type": "text"
									},
									{
										"key": "Content-Type",
										"value": "application/json",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"name\": \"MTN 1GB Data Plan\",\n  \"networkName\": \"MTN\",\n  \"planType\": \"GIFTING\",\n  \"dataSize\": \"1GB\",\n  \"validityDays\": 30,\n  \"aychindodataId\": 55,\n  \"originalPrice\": 450,\n  \"adminPrice\": 490,\n  \"planId\": \"MTN_1GB_GIFTING\",\n  \"isActive\": true\n}"
								},
								"url": {
									"raw": "{{baseUrl}}/data-plans",
									"host": ["{{baseUrl}}"],
									"path": ["data-plans"]
								},
								"description": "Create a new data plan (Admin only)"
							},
							"response": []
						},
						{
							"name": "Get All Data Plans",
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{adminToken}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{baseUrl}}/data-plans?networkName=MTN&planType=GIFTING&isActive=true&page=1&limit=20",
									"host": ["{{baseUrl}}"],
									"path": ["data-plans"],
									"query": [
										{
											"key": "networkName",
											"value": "MTN",
											"description": "Filter by network (MTN, AIRTEL, GLO, 9MOBILE)"
										},
										{
											"key": "planType",
											"value": "GIFTING",
											"description": "Filter by plan type"
										},
										{
											"key": "isActive",
											"value": "true",
											"description": "Filter by active status"
										},
										{
											"key": "page",
											"value": "1",
											"description": "Page number"
										},
										{
											"key": "limit",
											"value": "20",
											"description": "Items per page"
										}
									]
								},
								"description": "Get all data plans with optional filters (Admin only)"
							},
							"response": []
						},
						{
							"name": "Get Data Plan by ID",
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{adminToken}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{baseUrl}}/data-plans/:id",
									"host": ["{{baseUrl}}"],
									"path": ["data-plans", ":id"],
									"variable": [
										{
											"key": "id",
											"value": "507f1f77bcf86cd799439011",
											"description": "MongoDB _id of the data plan"
										}
									]
								},
								"description": "Get a single data plan by ID (Admin only)"
							},
							"response": []
						},
						{
							"name": "Update Data Plan",
							"request": {
								"method": "PATCH",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{adminToken}}",
										"type": "text"
									},
									{
										"key": "Content-Type",
										"value": "application/json",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"adminPrice\": 500,\n  \"isActive\": true\n}"
								},
								"url": {
									"raw": "{{baseUrl}}/data-plans/:id",
									"host": ["{{baseUrl}}"],
									"path": ["data-plans", ":id"],
									"variable": [
										{
											"key": "id",
											"value": "507f1f77bcf86cd799439011",
											"description": "MongoDB _id of the data plan"
										}
									]
								},
								"description": "Update a data plan (all fields editable) - Admin only"
							},
							"response": []
						},
						{
							"name": "Delete Data Plan",
							"request": {
								"method": "DELETE",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{adminToken}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{baseUrl}}/data-plans/:id",
									"host": ["{{baseUrl}}"],
									"path": ["data-plans", ":id"],
									"variable": [
										{
											"key": "id",
											"value": "507f1f77bcf86cd799439011",
											"description": "MongoDB _id of the data plan"
										}
									]
								},
								"description": "Delete (soft delete) a data plan - sets isActive to false (Admin only)"
							},
							"response": []
						},
						{
							"name": "Get Plan Types by Network",
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{adminToken}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{baseUrl}}/data-plans/network/:networkName/types",
									"host": ["{{baseUrl}}"],
									"path": ["data-plans", "network", ":networkName", "types"],
									"variable": [
										{
											"key": "networkName",
											"value": "MTN",
											"description": "Network name (MTN, AIRTEL, GLO, 9MOBILE)"
										}
									]
								},
								"description": "Get distinct plan types for a network (Admin only)"
							},
							"response": []
						},
						{
							"name": "Get Plans by Network and Type",
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{adminToken}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{baseUrl}}/data-plans/network/:networkName/type/:planType?page=1&limit=20",
									"host": ["{{baseUrl}}"],
									"path": ["data-plans", "network", ":networkName", "type", ":planType"],
									"query": [
										{
											"key": "page",
											"value": "1"
										},
										{
											"key": "limit",
											"value": "20"
										}
									],
									"variable": [
										{
											"key": "networkName",
											"value": "MTN",
											"description": "Network name (MTN, AIRTEL, GLO, 9MOBILE)"
										},
										{
											"key": "planType",
											"value": "GIFTING",
											"description": "Plan type (GIFTING, SME, COOPERATE GIFTING)"
										}
									]
								},
								"description": "Get data plans filtered by network and plan type (Admin only)"
							},
							"response": []
						}
					]
				}
			]
		},
		{
			"name": "User APIs",
			"item": [
				{
					"name": "Authentication",
					"item": [
						{
							"name": "Register User",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"firstName\": \"John\",\n  \"lastName\": \"Doe\",\n  \"email\": \"john.doe@example.com\",\n  \"phone\": \"08123456789\",\n  \"password\": \"password123\",\n  \"pin\": \"1234\"\n}"
								},
								"url": {
									"raw": "{{baseUrl}}/auth/register",
									"host": ["{{baseUrl}}"],
									"path": ["auth", "register"]
								},
								"description": "Register a new user account"
							},
							"response": []
						},
						{
							"name": "Login User",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"email\": \"john.doe@example.com\",\n  \"password\": \"password123\"\n}"
								},
								"url": {
									"raw": "{{baseUrl}}/auth/login",
									"host": ["{{baseUrl}}"],
									"path": ["auth", "login"]
								},
								"description": "Login user and get access/refresh tokens"
							},
							"response": []
						},
						{
							"name": "Get Profile",
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{userToken}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{baseUrl}}/auth/profile",
									"host": ["{{baseUrl}}"],
									"path": ["auth", "profile"]
								},
								"description": "Get user profile information"
							},
							"response": []
						}
					]
				},
				{
					"name": "Purchases",
					"item": [
						{
							"name": "Get Networks",
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{userToken}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{baseUrl}}/purchases/networks",
									"host": ["{{baseUrl}}"],
									"path": ["purchases", "networks"]
								},
								"description": "Get available networks for airtime/data purchases"
							},
							"response": []
						},
						{
							"name": "Get Data Plan Categories",
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{userToken}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{baseUrl}}/purchases/data-plans/network/:networkName/categories",
									"host": ["{{baseUrl}}"],
									"path": ["purchases", "data-plans", "network", ":networkName", "categories"],
									"variable": [
										{
											"key": "networkName",
											"value": "MTN",
											"description": "Network name (MTN, AIRTEL, GLO, 9MOBILE)"
										}
									]
								},
								"description": "Get data plan categories/types for a network"
							},
							"response": []
						},
						{
							"name": "Get Data Plans",
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{userToken}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{baseUrl}}/purchases/data-plans/network/:networkName?planType=GIFTING&page=1&limit=20&sortBy=price&sortOrder=asc",
									"host": ["{{baseUrl}}"],
									"path": ["purchases", "data-plans", "network", ":networkName"],
									"query": [
										{
											"key": "planType",
											"value": "GIFTING",
											"description": "Optional: Filter by plan type"
										},
										{
											"key": "page",
											"value": "1",
											"description": "Page number"
										},
										{
											"key": "limit",
											"value": "20",
											"description": "Items per page"
										},
										{
											"key": "sortBy",
											"value": "price",
											"description": "Sort field (price, validity, name)"
										},
										{
											"key": "sortOrder",
											"value": "asc",
											"description": "Sort order (asc, desc)"
										}
									],
									"variable": [
										{
											"key": "networkName",
											"value": "MTN",
											"description": "Network name (MTN, AIRTEL, GLO, 9MOBILE)"
										}
									]
								},
								"description": "Get data plans for a network with optional filters and sorting"
							},
							"response": []
						},
						{
							"name": "Get Data Plans by Category",
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{userToken}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{baseUrl}}/purchases/data-plans/network/:networkName/category/:planType?page=1&limit=20&sortBy=price&sortOrder=asc",
									"host": ["{{baseUrl}}"],
									"path": ["purchases", "data-plans", "network", ":networkName", "category", ":planType"],
									"query": [
										{
											"key": "page",
											"value": "1"
										},
										{
											"key": "limit",
											"value": "20"
										},
										{
											"key": "sortBy",
											"value": "price"
										},
										{
											"key": "sortOrder",
											"value": "asc"
										}
									],
									"variable": [
										{
											"key": "networkName",
											"value": "MTN",
											"description": "Network name (MTN, AIRTEL, GLO, 9MOBILE)"
										},
										{
											"key": "planType",
											"value": "GIFTING",
											"description": "Plan type (GIFTING, SME, COOPERATE GIFTING)"
										}
									]
								},
								"description": "Get data plans filtered by network and category"
							},
							"response": []
						},
						{
							"name": "Get Airtime Pricing",
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{userToken}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{baseUrl}}/purchases/airtime/pricing",
									"host": ["{{baseUrl}}"],
									"path": ["purchases", "airtime", "pricing"]
								},
								"description": "Get airtime pricing for all networks"
							},
							"response": []
						},
						{
							"name": "Buy Airtime",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{userToken}}",
										"type": "text"
									},
									{
										"key": "Content-Type",
										"value": "application/json",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"networkName\": \"MTN\",\n  \"phoneNumber\": \"08123456789\",\n  \"amount\": 100\n}"
								},
								"url": {
									"raw": "{{baseUrl}}/purchases/airtime",
									"host": ["{{baseUrl}}"],
									"path": ["purchases", "airtime"]
								},
								"description": "Purchase airtime via Aychindodata API"
							},
							"response": []
						},
						{
							"name": "Buy Data",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{userToken}}",
										"type": "text"
									},
									{
										"key": "Content-Type",
										"value": "application/json",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"planId\": \"507f1f77bcf86cd799439011\",\n  \"phoneNumber\": \"08123456789\"\n}"
								},
								"url": {
									"raw": "{{baseUrl}}/purchases/data",
									"host": ["{{baseUrl}}"],
									"path": ["purchases", "data"]
								},
								"description": "Purchase data plan via Aychindodata API. planId can be MongoDB _id or aychindodataId"
							},
							"response": []
						},
						{
							"name": "Get User Transactions",
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{userToken}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{baseUrl}}/purchases/transactions?page=1&limit=10&type=all&status=all",
									"host": ["{{baseUrl}}"],
									"path": ["purchases", "transactions"],
									"query": [
										{
											"key": "page",
											"value": "1",
											"description": "Page number"
										},
										{
											"key": "limit",
											"value": "10",
											"description": "Items per page"
										},
										{
											"key": "type",
											"value": "all",
											"description": "Filter by type (airtime, data, funding, debit, all)"
										},
										{
											"key": "status",
											"value": "all",
											"description": "Filter by status (pending, completed, failed, cancelled, all)"
										}
									]
								},
								"description": "Get user's transaction history with optional filters"
							},
							"response": []
						},
						{
							"name": "Check Transaction Status",
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{userToken}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{baseUrl}}/purchases/transactions/:transactionId/status",
									"host": ["{{baseUrl}}"],
									"path": ["purchases", "transactions", ":transactionId", "status"],
									"variable": [
										{
											"key": "transactionId",
											"value": "507f1f77bcf86cd799439011",
											"description": "MongoDB _id of the transaction"
										}
									]
								},
								"description": "Check status of a specific transaction (Note: Aychindodata doesn't have status check endpoint, returns current DB status)"
							},
							"response": []
						},
						{
							"name": "Health Check",
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{baseUrl}}/purchases/health",
									"host": ["{{baseUrl}}"],
									"path": ["purchases", "health"]
								},
								"description": "Check purchase service health status"
							},
							"response": []
						}
					]
				}
			]
		}
	],
	"variable": [
		{
			"key": "baseUrl",
			"value": "http://localhost:5000/api/v1",
			"type": "string"
		},
		{
			"key": "userToken",
			"value": "",
			"type": "string"
		},
		{
			"key": "adminToken",
			"value": "",
			"type": "string"
		}
	]
}

